<div>
    
</div>
<div class="content">
    <div class="menu">
        <form
        class="input-wrapper"
        [formGroup]="testForm"
        >
        <div
            tuiGroup
            class="group"
        >
            <div class="select_server">
                <tui-select [formControl]="testValue">
                    Character
                    <input
                        tuiTextfield
                        placeholder="Choose your hero"
                    />
                    <tui-data-list-wrapper
                        *tuiDataList
                        [items]="servers"
                        
                    ></tui-data-list-wrapper>
                </tui-select>
            </div>
            
            <div class="date_group">
                
                <tui-input-date-time
                    formControlName="testValue"
                    timeMode="HH:MM"
                >
                    Выберите дату 
                </tui-input-date-time>    
            </div>
        </div>
    </form>
    </div>
    <table 
        tuiTable
        class="table"
        [columns]="columns">
        <thead>
            <tr tuiThGroup
                class="tui-table__tr tui-table__tr_border_none">
                <th tuiTh
                    class="tui-table__th tui-table__th_first"
                    [resizable]="true" >Имя</th>
                <th tuiTh
                    [resizable]="true">Память</th>
                <th tuiTh
                    [resizable]="true">Дата проверки</th>
            </tr>
        </thead>
        
        <tbody tuiTbody
                [data]="sortedProcesses">
            <tr *ngFor="let runningProcess of sortedProcesses"
                tuiTr
                tui-table__tr tui-table__tr_border_none>
            
            <td *tuiCell="'name'"
                (click)="toggle(runningProcess)"
                tuiTd>{{runningProcess.name}}
                <tui-expand [expanded]="runningProcess.expanded">
                    <table tuiTable
                            class="table"
                            [columns]="columns1">
                        <thead> 
                            <tr tuiThGroup>
                                <th tuiTh
                                    [resizable]="true"> Имя
                                </th>
                                <th tuiTh
                                    [resizable]="true">PID
                                </th>
                                <th tuiTh
                                    [resizable]="true">Номер сесси
                                </th>
                                <th tuiTh
                                    [resizable]="true">Память
                                </th>
                                <th tuiTh
                                    [resizable]="true">Дата
                                </th>
                            </tr>
                        </thead>
                        <tbody tuiTbody
                                [data]="sortedProcesses">
                            <tr *ngFor="let child of runningProcess.children"
                                tuiTr
                                class="tui-table__tr tui-table__tr_border_none">
                                <td *tuiCell="'name'"
                                    tuiTd
                                    class="tui-table__td">
                                    {{child.name}}</td>
                                <td *tuiCell="'pid'"
                                    tuiTd
                                    class="tui-table__td">
                                    {{child.pid}}
                                </td>
                                <td *tuiCell="'sessionNumber'"
                                    tuiTd
                                    class="tui-table__td">
                                    {{child.sessionNumber}}
                                </td>
                                <td *tuiCell="'memory'"
                                    tuiTd
                                    class="tui-table__td">
                                    {{child.memory}}
                                </td>
                                <td *tuiCell="'dateCheck'"
                                    tuiTd
                                    class="tui-table__td">
                                    {{child.dateCheck}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </tui-expand>          
            </td>
            <td *tuiCell="'memory'"
                class="tui-table__td"
                tuiTd>{{runningProcess.memory}} K</td>
            <td class="tui-table__td"
                *tuiCell="'dateCheck'"
                tuiTd>{{runningProcess.dateCheck | date: 'MMMM d, y, h:mm:ss a z'}}</td>
        </tr>
        </tbody>
    </table>
</div>